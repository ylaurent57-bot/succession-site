import"./hoisted.d6V8J2CV.js";const s=document.getElementById("calculator-form"),c=document.getElementById("results"),u={spouse:1/0,child:1e5,grandchild:1594,parent:1e5,sibling:15932,nephew:7967,other:1594},d=[{limit:8072,rate:.05},{limit:12109,rate:.1},{limit:15932,rate:.15},{limit:552324,rate:.2},{limit:902838,rate:.3},{limit:1805677,rate:.4},{limit:1/0,rate:.45}],f=[{limit:24430,rate:.35},{limit:1/0,rate:.45}];function h(e,t){if(e<=0)return 0;let n;if(["child","parent","grandchild"].includes(t))n=d;else if(t==="sibling")n=f;else return t==="nephew"?e*.55:e*.6;let l=0,i=e,a=0;for(const r of n){const o=Math.min(i,r.limit-a);if(l+=o*r.rate,i-=o,a=r.limit,i<=0)break}return l}function m(e){return new Intl.NumberFormat("fr-FR",{style:"currency",currency:"EUR",maximumFractionDigits:0}).format(e)}s.addEventListener("submit",e=>{e.preventDefault();const t=document.getElementById("relationship").value,n=parseFloat(document.getElementById("amount").value)||0,l=document.getElementById("handicap").checked;let i=u[t];l&&t!=="spouse"&&(i+=159325);const a=Math.max(0,n-i);let r=0;t==="spouse"?r=0:r=h(a,t),document.getElementById("result-amount").textContent=m(n),document.getElementById("result-abatement").textContent=t==="spouse"?"Exonéré":m(Math.min(i,n)),document.getElementById("result-taxable").textContent=m(a),document.getElementById("result-tax").textContent=m(Math.round(r)),c.classList.remove("hidden"),c.scrollIntoView({behavior:"smooth",block:"start"})});
